以下是定義如何判斷優惠券對於會員的使用行為影響：
Step 1. 先將該會員成功單篩出（並進行reset_index）
Step 2. 將會員的交易分成使用特定優惠券（我們想暸解的），即非使用特定優惠券，將兩者的index分別存為list
Step 3. 對使用特定優惠券的list進行處理，如果連續使用，則保留最後一筆為其他比不看
        i,e, 使用特定優惠券list = [3,4,5,8,11,12,17] ----> [5,8,12,17]
             非使用特定優惠券list = [1,2,7,9,14,16] ----> [1,2,7,9,14,16]
        why do this是因為假設優惠券對於會員的pattern養成可能是需要經過一系列連續使用
Step 4. 將使用特定優惠券的list及非使用特定優惠券的list做成dataframe
        i,e, 使用特定優惠券list = [5,8,12,17]
             非使用特定優惠券list = [1,2,7,13,14,16]
             變成
             [[5,7],
              [8,13],
              [12,14],
              [17,該會員的最後一筆交易]]
        接下來對dataframe進行處理
        如果dataframe.iloc[x,1] >= dataframe.iloc[x+1,0]
        則用dataframe.iloc[x+1,0] 取代 dataframe.iloc[x,1]
        此原因是考慮到非連續使用相同優惠券，我也想將他看成是同種優惠券造成的不同影響
            變成
             [[5,7],
              [8,12],
              [12,14],
              [17,該會員的最後一筆交易(assumption 31)]]
Step 5. [1,3,1,13]
Step 6. 是否為最後一次使用	是將 使用特定優惠券list[-1]拉出來看是不是最後一筆使用return 布林值

# Supplement : 平均使用服務間隔（使用優惠券後）	平均使用服務間隔（整體）
    平均使用服務間隔（使用優惠券後）如果顯示 
            之後沒有呼叫 代表該優惠券的使用是最後一次呼叫台灣代駕的服務	
            中間沒有間隔 則代表使用完該優惠券，下次使用台灣代駕的服務是使用其他優惠券
    平均使用服務間隔（整體）if reveal NaT
            表示 只有使用一次服務 導致沒有服務見個的資料可顯示
Output：優惠券_資料.csv


以下將 _資料.csv 資料進行遍歷處理 產出 優惠券使用情形分析
Step 1. 統計 最後一次使用即非最後一次使用的人數
Step 2. 流失率 最後一次使用當作流失
Step 3. 觸發的人（非重複）將觸發條件的人（目前設定為 使用間隔中有超過2）進行統計
Step 4. 判斷是否有成功降低使用服務的間隔，並進行統計 有分成
                                                1. 降低使用間隔的人數
                                                2. 提升使用間隔的人數
                                                3. 無法比較
Step 5. 其他數值統計 1. 觸發次數 2. 總使用人數

優惠券合併
Step 1. 將優惠券的資料和交易資料進行合併，如此可以計算 發放及使用的總量，及use_rate



產出說明：
1. 資料前處理資料夾 output 前處理完的資料
2. 優惠券分析＿整理資料夾 input 前處理完的資料 跟 coupon  output 將優惠券資料合併訂單資料的檔案：優惠券合併補齊資料
3. 優惠券分析＿分析資料夾 input 優惠券合併補齊資料及coupon output 1. 個優惠券的使用情形（檔名是like：青商會員優待_資料.csv）2. 優惠券使用情形分析 3. 優惠券綜合整理
其他視覺化成果在 優惠券分析＿分析資料夾中的main.ipynb中